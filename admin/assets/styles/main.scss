@import "mixins/flex";
@import "mixins/position";
@import "components/cortex-modal";
@import "components/cortex-admin-blocks-page";
@import "components/cortex-admin-settings-page";

#cortex_block_editor {

	.inside {
		margin: 0px;
		padding: 0px;
	}

	.cortex-block-editor {
		height: 400px;
	}
}

#cortex_style_editor {

	.inside {
		margin: 0px;
		padding: 0px;
	}

	.cortex-style-editor {
		height: 400px;
	}
}

#cortex_script_editor {

	.inside {
		margin: 0px;
		padding: 0px;
	}

	.cortex-script-editor {
		height: 400px;
	}
}

#cortex_create_block,
#cortex_update_block {

	.inside {
		padding: 0px;
		margin: 0px;
	}

	.acf-label {
		@include flex-box;
		@include flex-col(flex-start, flex-start);
	}

	.acf-bl > li {
		@include flex-box;
		@include flex-row(center, flex-start);
	}
}


@keyframes cortex-reload-rotate {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}

.cortex-text-editor {

	&.invalid {
		@include relative;
		border: 5px solid #dc3232;
	}

	.cortex-reload {

		@include absolute(top 12px left 12px);
		background: #dc3232 url(../images/reload.svg) no-repeat center center;
		background-size: 18px 18px;
		border-radius: 22px;
		cursor: pointer;
		height: 32px;
		width: 32px;
		z-index: 1000;

		&.cortex-reload-reloading {
			animation: cortex-reload-rotate infinite 1s linear;
		}

		&:hover {
			background-color: #f73a3a;
		}
	}
}

.cortex-create-block-page,
.cortex-update-block-page {

	.wrap {
		margin: 12px;
		margin-left: 54px;
		margin-right: 54px;
	}

	.media-modal {
		bottom: 100px;
	}

	#wpcontent {
		margin: 0px !important;
		padding: 0px;
		padding-bottom: 100px;
	}

	#wpadminbar {
		display: none !important;
	}

	#adminmenumain {
		display: none !important;
	}

	#footer-left,
	#footer-upgrade {
		display: none !important;
	}

	#screen-meta-links {
		display: none !important;
	}

	.wp-header-end {
		display: none !important;
	}

	.wp-heading-inline {
		display: none !important;
	}

	.update-nag {
		display: none;
	}

	.page-title-action {
		display: none !important;
	}

	#postbox-container-1 {
		@include absolute(left 0 right 0 bottom 0);
	}

	#poststuff {
		margin: 0px !important;
		padding: 0px !important;
	}

	#post-body.columns-1,
	#post-body.columns-2,
	#post-body.columns-3 {
		margin: 0px !important;
	}

	// #post-body-content {
	// 	display: none !important;
	// }

	#submitdiv {
		@include fixed(left 0 right 0 bottom 0);
		border: none;
		border-top: 1px solid #e5e5e5;
		box-shadow: none;
		margin: 0px;
		z-index: 1000000;
	}

	#submitdiv h2,
	#submitdiv h3,
	#submitdiv .handlediv,
	#submitdiv #minor-publishing {
		display: none;
	}

	#submitdiv #major-publishing-actions {
		border: none;
		background: #fff;
	}

	#delete-action {
		display: none;
	}

	#acf-field-group-locations,
	#acf-field-group-options,
	#commentstatusdiv,
	#commentsdiv {
		display: none !important;
	}

	/* ACF 6 */

	.acf-headerbar {
		@include fixed(
			top    auto
			left   0
			right  0
			bottom 0
		);
	}

	.acf-headerbar-actions {
		.acf-btn:not(.acf-publish) {
			display: none;
		}
	}

	/* ACF 6 */

	.acf-headerbar {

		@include fixed(
			top    auto
			left   0
			right  0
			bottom 0
		);

		border-top: 1px solid #EAECF0;

		.acf-headerbar-inner {
			max-width: none;
		}
	}

	.acf-headerbar-field-editor .acf-page-title {
		display: none
	}

	.acf-headerbar-actions {
		.acf-btn:not(.acf-publish) {
			display: none;
		}
	}

	&.post-type-acf-field-group .metabox-holder.columns-1 .meta-box-sortables.ui-sortable,
	&.post-type-acf-field-group .metabox-holder.columns-1 #acf-field-group-fields {
		max-width: none;
	}
}

.cortex-update-block-page {

	#delete-action {
		display: none;
	}

	.page-title-action {
		display: none;
	}
}

/* Preview */

.cortex-preview {

	@include relative;
	min-height: 100px;
	max-height: 500px;

	.cortex-preview-image, canvas {
		background-position: center center;
		background-repeat: no-repeat;
		background-size: contain;
		display: block;
		max-width: none;
		max-height: none;
		height: auto;
		width: 100%;
	}
}

.cortex-preview-spinner {
	@include absolute(top 50% left 50%);
	background: url(../images/spinner.gif) no-repeat;
	background-size: 20px 20px;
	content: "";
	display: block;
	margin-top: -10px;
	margin-left: -10px;
	height: 20px;
	width: 20px;
}

/* Gutenberg */

.edit-post-layout__content {
	background: #F5F5F5;
}

.edit-post-layout__metaboxes {
	background: #FFFFFF;
}

.edit-post-layout__metaboxes .edit-post-meta-boxes-area {
	margin: 0px !important;
}

.edit-post-layout__metaboxes .acf-postbox > .inside {
	padding: 8px 6px !important;
}

.editor-block-list__breadcrumb {
	display: none !important;
}

.block-editor-block-list__layout .block-editor-block-list__block.is-focus-mode {
	opacity: 1;
}

.wp-block {

	max-width: 960px;
	padding-top: 24px;
	padding-bottom: 24px;

	.wp-block & {
		padding-left: 72px;
		padding-right: 72px;
	}
}

.block-list-appender {
	.wp-block & {
		padding-left: 46px;
		padding-right: 46px;
	}
}

.acf-block-preview {
	background: #FFFFFF;
	border: 1px solid #EEEEEE;
	padding: 16px 20px;
}

.acf-block-title {
	font-weight: bold;
	font-size: 13px;
	padding: 16px 20px;
	border-bottom: 1px solid #EEEEEE;
	user-select: none;
}

.acf-field .acf-label label {
	font-size: 13px;
}